(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{ZyBU:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return g})),a.d(t,"default",(function(){return D}));var n=a("Fcif"),r=a("+I+c"),i=a("mXGw"),o=a("/FXl"),s=a("TjRS"),c=a("ZFoC"),l=a("UutA"),b=a("GYKu"),p=a("R82R"),d=a("u44p"),u=a("v6vt"),m=a("5bSt"),h=a("9b5V"),O=a("esdE"),j=a("5Wd7"),C=a("PKSg"),g=(a("aD51"),{});void 0!==g&&g&&g===Object(g)&&Object.isExtensible(g)&&!g.hasOwnProperty("__filemeta")&&Object.defineProperty(g,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/docs/state.mdx"}});N="ShortcutList";var N,f={_frontmatter:g},y=s.a;function D(e){var t,a,N,D=e.components,v=Object(r.a)(e,["components"]);return Object(o.b)(y,Object(n.a)({},f,v,{components:D,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"state"},"State"),Object(o.b)("h2",{id:"approach"},"Approach"),Object(o.b)("p",null,"The state of ",Object(o.b)("inlineCode",{parentName:"p"},"use-date-input")," components is created and overridable using reducers.\nChange the existing state or create new state, whatever your composed components need."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"use-date-input")," comes with a number of common reducers which are composed together to create\nthe state for ",Object(o.b)("inlineCode",{parentName:"p"},"useDateInput"),", ",Object(o.b)("inlineCode",{parentName:"p"},"useDateRangeInput")," and ",Object(o.b)("inlineCode",{parentName:"p"},"Calender"),"."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"calendarReducer",Object(o.b)("br",{parentName:"p"}),"\n","Creates the state for a stand-alone ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," with no associated input.\nAssociated actions include")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"focusDate - Focus a specific date")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"keyPress - Keyboard action")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"mouseClickOutside - Mouse clicked outside of Calendar (or allow list)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"navigatePrevious - Navigate to the previous month")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"navigateNext - Navigate to the next month")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"selectDate - Select a date (emulating keyboard or mouse selection)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setAnimating - Create the transient state of animating between dates (used to prevent interim selection)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setEnableKeyboardNavigation - Enable the navigation of the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," cursor with the keyboard controls")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setEndDate - Create an end date for a date range (programatically)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setFocusableDate - Enable/Disable focusable dates within the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," ")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setKeyboardCursor - Set the keyboard cursor within the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," ")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setMouseCursor - Set the mouse cursor within the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," ")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setStartDate - Create an start date for a date range (programatically)")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setOpen - Open the visible state of the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"setVisibleFromDate - Set the initial visible month")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"singleDateReducer\nCombines with ",Object(o.b)("inlineCode",{parentName:"p"},"calendarReducer")," to select a single date.  ")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"dateRangeReducer\nCombines with ",Object(o.b)("inlineCode",{parentName:"p"},"calendarReducer")," to select a date Range.")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"dateInputReducer",Object(o.b)("br",{parentName:"p"}),"\n","Combines with ",Object(o.b)("inlineCode",{parentName:"p"},"calendarReducer")," to select a single date from either the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," or an input.\nAssociated actions  ")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"blurInput : Blur the associated input's focus")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"focusInput : Focus the associated input")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"focusLock : Enable/Disable the focus lock, so that tabbing behaviour links both input and ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar"))),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"dateRangeInputReducer\nCombines with ",Object(o.b)("inlineCode",{parentName:"p"},"calendarReducer")," to select a date range from either the ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," or 2 inputs, representing start and end date.\nAssociated actions  ")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"blurStartDate : Blur the associated input's focus")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"blurEndDate : Blur the associated input's focus")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"focusStartDate : Focus the associated input")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"focusEndDate : Focus the associated input")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"focusLock : Enable/Disable the focus lock, so that tabbing behaviour links both input and ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")))),Object(o.b)("h2",{id:"usecalendardispatch"},"useCalendarDispatch"),Object(o.b)("p",null,"The actions are dispatched via the ",Object(o.b)("inlineCode",{parentName:"p"},"useCalendarDispatch")," hook.  "),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"useCalendarDispatch")," returns an API to dispatch the actions."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const {\n    dispatch,\n    mouseClickOutside,\n    navigateNext,\n    navigatePrevious,\n    selectDate,\n    setAnimating,\n    setEnableKeyboardNavigation,\n    setKeyboardCursor,\n    setMouseCursor,\n    setEndDate,\n    setStartDate,\n    setOpen,\n    setKeyPress,\n    setVisibleFromDate\n} = useCalendarDispatch();\n")),Object(o.b)("p",null,"Either use ",Object(o.b)("inlineCode",{parentName:"p"},"dispatch")," to dispatch actions for yourself or use the helper function, which wrap the dispatch method.  "),Object(o.b)("h2",{id:"example"},"Example"),Object(o.b)("p",null,"Here is an example of ",Object(o.b)("inlineCode",{parentName:"p"},"Calendar")," composed together with components from Material-UI to create an additional list of shorcuts.",Object(o.b)("br",{parentName:"p"}),"\n","This example uses a hook called ",Object(o.b)("inlineCode",{parentName:"p"},"useCalendarDispatch"),", to access dispatch methods, allowing you to dispatch actions to the reducer",Object(o.b)("br",{parentName:"p"}),"\n","from your custom Root."),Object(o.b)(c.c,{__position:0,__code:'() => {\n  const ShortcutList = () => {\n    const dateAPI = createDateAPI({ adapter: dateAdapter })\n    const useStyles = makeStyles(theme => ({\n      root: {\n        backgroundColor: theme.palette.background.paper,\n        color: theme.palette.primary.main,\n        display: \'inline-block\',\n        marginTop: \'40px\',\n        verticalAlign: \'top\',\n        width: 150,\n      },\n    }))\n    const { startDate } = useCalendarState()\n    const { setEndDate, setVisibleFromDate } = useCalendarDispatch()\n    const classes = useStyles()\n    if (!startDate) {\n      return null\n    }\n    const createNightsSelectHandler = numOfNights => () => {\n      setEndDate(dateAPI.addDays(startDate, numOfNights))\n      setVisibleFromDate(dateAPI.startOfMonth(startDate))\n    }\n    const handleTenNights = createNightsSelectHandler(10)\n    const handleSevenNights = createNightsSelectHandler(7)\n    const handleThreeNights = createNightsSelectHandler(3)\n    return (\n      <div className={classes.root}>\n        <List component="nav" dense aria-label="date range shortcuts">\n          <ListItem button onClick={handleTenNights}>\n            <ListItemText primary="Stay for 10 nights" />\n          </ListItem>\n          <ListItem button onClick={handleSevenNights}>\n            <ListItemText primary="Stay for 7 nights" />\n          </ListItem>\n          <ListItem button onClick={handleThreeNights}>\n            <ListItemText primary="Stay for 3 nights" />\n          </ListItem>\n        </List>\n      </div>\n    )\n  }\n  const CustomRoot = props => (\n    <div>\n      <ShortcutList />\n      <Root {...props} />\n    </div>\n  )\n  return (\n    <Calendar\n      adapter={dateAdapter}\n      allowRange\n      components={{\n        Root: CustomRoot,\n      }}\n      numOfVisibleMonths={12}\n      numOfColumns={4}\n    />\n  )\n}',__scope:(t={props:v,DefaultLayout:s.a,useRef:i.useRef,useState:i.useState,useDocs:c.i,Link:c.b,Playground:c.c,styled:l.b,createDateAPI:b.g,Calendar:b.a,CalendarProvider:b.b,Day:b.c,useCalendarDispatch:b.h,useCalendarState:b.j,Root:b.e,makeStyles:p.a,List:d.a,ListItem:u.a,ListItemText:m.a,dateAdapter:h.a,getDay:O.a,eachDayOfInterval:j.a,sampleTheme:C.a},t.DefaultLayout=s.a,t._frontmatter=g,t),mdxType:"Playground"},(function(){var e=function(){var e=Object(b.g)({adapter:h.a}),t=Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:e.palette.primary.main,display:"inline-block",marginTop:"40px",verticalAlign:"top",width:150}}})),a=Object(b.j)().startDate,n=Object(b.h)(),r=n.setEndDate,i=n.setVisibleFromDate,s=t();if(!a)return null;var c=function(t){return function(){r(e.addDays(a,t)),i(e.startOfMonth(a))}},l=c(10),O=c(7),j=c(3);return Object(o.b)("div",{className:s.root},Object(o.b)(d.a,{component:"nav",dense:!0,"aria-label":"date range shortcuts",mdxType:"List"},Object(o.b)(u.a,{button:!0,onClick:l,mdxType:"ListItem"},Object(o.b)(m.a,{primary:"Stay for 10 nights",mdxType:"ListItemText"})),Object(o.b)(u.a,{button:!0,onClick:O,mdxType:"ListItem"},Object(o.b)(m.a,{primary:"Stay for 7 nights",mdxType:"ListItemText"})),Object(o.b)(u.a,{button:!0,onClick:j,mdxType:"ListItem"},Object(o.b)(m.a,{primary:"Stay for 3 nights",mdxType:"ListItemText"}))))};return Object(o.b)(b.a,{adapter:h.a,allowRange:!0,components:{Root:function(t){return Object(o.b)("div",null,Object(o.b)(e,{mdxType:"ShortcutList"}),Object(o.b)(b.e,Object(n.a)({},t,{mdxType:"Root"})))}},numOfVisibleMonths:12,numOfColumns:4,mdxType:"Calendar"})})),Object(o.b)("h2",{id:"changing-state"},"Changing State"),Object(o.b)("p",null,"Providing an ",Object(o.b)("inlineCode",{parentName:"p"},"actions")," ref to the ",Object(o.b)("inlineCode",{parentName:"p"},"CalendarProvider")," enables you to control the Component state externally using",Object(o.b)("br",{parentName:"p"}),"\n","either the helper functions or the dispatcher itself."),Object(o.b)("p",null,"In this example, the date range is created by setting the endDate, upon selection of the start date. "),Object(o.b)(c.c,{__position:1,__code:"() => {\n  const [storeDate, setStoreDate] = useState()\n  const actions = useRef()\n  const handleCalendarChange = value => {\n    const [rangeStart, rangeEnd] = value\n    const { setStartDate, setEndDate, dateAPI } = actions.current\n    if (!dateAPI.isSameDay(storeDate, rangeStart)) {\n      const endDate = dateAPI.addWeeks(rangeStart, 1)\n      setEndDate(endDate)\n      setStoreDate(rangeStart)\n    }\n  }\n  return (\n    <CalendarProvider\n      actions={actions}\n      adapter={dateAdapter}\n      allowRange\n      onCalendarChange={handleCalendarChange}\n    >\n      <Calendar />\n    </CalendarProvider>\n  )\n}",__scope:(a={props:v,DefaultLayout:s.a,useRef:i.useRef,useState:i.useState,useDocs:c.i,Link:c.b,Playground:c.c,styled:l.b,createDateAPI:b.g,Calendar:b.a,CalendarProvider:b.b,Day:b.c,useCalendarDispatch:b.h,useCalendarState:b.j,Root:b.e,makeStyles:p.a,List:d.a,ListItem:u.a,ListItemText:m.a,dateAdapter:h.a,getDay:O.a,eachDayOfInterval:j.a,sampleTheme:C.a},a.DefaultLayout=s.a,a._frontmatter=g,a),mdxType:"Playground"},(function(){var e=Object(i.useState)(),t=e[0],a=e[1],n=Object(i.useRef)();return Object(o.b)(b.b,{actions:n,adapter:h.a,allowRange:!0,onCalendarChange:function(e){var r=e[0],i=(e[1],n.current),o=(i.setStartDate,i.setEndDate),s=i.dateAPI;s.isSameDay(t,r)||(o(s.addWeeks(r,1)),a(r))},mdxType:"CalendarProvider"},Object(o.b)(b.a,{mdxType:"Calendar"}))})),Object(o.b)("h2",{id:"reading-state"},"Reading State"),Object(o.b)("p",null,"Providing an ",Object(o.b)("inlineCode",{parentName:"p"},"onStateChange")," callback to the ",Object(o.b)("inlineCode",{parentName:"p"},"CalendarProvider")," enables you to respond to state change."),Object(o.b)("p",null,"In this example, ",Object(o.b)("inlineCode",{parentName:"p"},"state")," and ",Object(o.b)("inlineCode",{parentName:"p"},"changes")," are logged to the console."),Object(o.b)(c.c,{__position:2,__code:"() => {\n  const handleStateChange = (newState, changes) => {\n    console.log('new state', newState, changes)\n  }\n  return (\n    <CalendarProvider adapter={dateAdapter} onStateChange={handleStateChange}>\n      <Calendar />\n    </CalendarProvider>\n  )\n}",__scope:(N={props:v,DefaultLayout:s.a,useRef:i.useRef,useState:i.useState,useDocs:c.i,Link:c.b,Playground:c.c,styled:l.b,createDateAPI:b.g,Calendar:b.a,CalendarProvider:b.b,Day:b.c,useCalendarDispatch:b.h,useCalendarState:b.j,Root:b.e,makeStyles:p.a,List:d.a,ListItem:u.a,ListItemText:m.a,dateAdapter:h.a,getDay:O.a,eachDayOfInterval:j.a,sampleTheme:C.a},N.DefaultLayout=s.a,N._frontmatter=g,N),mdxType:"Playground"},(function(){return Object(o.b)(b.b,{adapter:h.a,onStateChange:function(e,t){console.log("new state",e,t)},mdxType:"CalendarProvider"},Object(o.b)(b.a,{mdxType:"Calendar"}))})))}void 0!==D&&D&&D===Object(D)&&Object.isExtensible(D)&&!D.hasOwnProperty("__filemeta")&&Object.defineProperty(D,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/docs/state.mdx"}}),D.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-docs-state-mdx-3a321fc3ccd377e5b18d.js.map